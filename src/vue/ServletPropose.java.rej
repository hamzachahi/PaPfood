diff a/src/vue/ServletPropose.java b/src/vue/ServletPropose.java	(rejected hunks)
@@ -1,7 +1,12 @@
 package vue;
 
 import java.io.IOException;
+import java.text.DateFormat;
+import java.text.SimpleDateFormat;
+import java.util.ArrayList;
+import java.util.Date;
 
+import javax.servlet.RequestDispatcher;
 import javax.servlet.ServletException;
 import javax.servlet.annotation.WebServlet;
 import javax.servlet.http.HttpServlet;
@@ -21,31 +28,51 @@
  */
 @WebServlet("/ServletPropose")
 public class ServletPropose extends HttpServlet {
+	private DaoProductImpl productDao = new DaoProductImpl(new UsineDao(
+			"jdbc:mysql://localhost:3306/papfood?verifyServerCertificate=false&useSSL=true&autoReconnect=true", "root",
+			"0000"));
+	private DaoServiceImpl serviceDao = new DaoServiceImpl(new UsineDao(
+			"jdbc:mysql://localhost:3306/papfood?verifyServerCertificate=false&useSSL=true&autoReconnect=true", "root",
+			"0000"));
+	private Person utilisateur = null;
+	private ArrayList<Salable> listProdSerFinal = new ArrayList<>();
+	private Paginateur paginateur = new Paginateur();
+	private ArrayList<Salable> listProdSer = new ArrayList<>();
 
 	private static final long serialVersionUID = 1L;
 
 	protected void doGet(HttpServletRequest request, HttpServletResponse response)
 			throws ServletException, IOException {
+		HttpSession session = request.getSession(false);
+		if (request.getSession(false) == null) {
 
-		this.getServletContext().getRequestDispatcher("/WEB-INF/proposer.jsp").forward(request, response);
+			response.sendRedirect(request.getContextPath() + "/connexion");
+
+		} else {
+			utilisateur = (Person) session.getAttribute("sessionUtilisateur");
+			listProdSer.addAll(productDao.findAllProductById(utilisateur.getId()));
+			listProdSer.addAll(serviceDao.findAllServiceById(utilisateur.getId()));
+			request.setAttribute("listeDeSalable", listProdSer);
+			this.getServletContext().getRequestDispatcher("/WEB-INF/proposer.jsp").forward(request, response);
 
+		}
 	}
 
 	protected void doPost(HttpServletRequest request, HttpServletResponse response)
 			throws ServletException, IOException {
 
-		HttpSession session = request.getSession();
-		Person utilisateur=new Person();
-		//utilisateur=(Person)session.getAttribute("utilisateur");
-		utilisateur.setId(102, false);
+		HttpSession session = request.getSession(false);
+		Person utilisateur = null;
 		String action = request.getParameter("action");
-		
+		utilisateur = (Person) session.getAttribute("sessionUtilisateur");
 		String nom = null;
 		String monChoix = null;
 		Double prix = null;
 		String description = null;
+		Long idProvider = null;
+		String code = null;
 
-		if (action.equals("proposerProductService")) {
+		if (action.equals("proposerProductService") && session != null) {
 
 			nom = request.getParameter("nom");
 			monChoix = request.getParameter("type");
@@ -54,51 +81,101 @@
 			description = request.getParameter("description");
 			// à récupérer : photo
 
-			// à récupérer id provider du user de la session
+			idProvider = utilisateur.getId();
+			Date actuelle = new Date();
+			DateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");
+			String dat = dateFormat.format(actuelle);
+			code = dat;
+			code = code + monChoix.substring(0, 3);
+			code = code + idProvider;
 
-		}
+			if (monChoix.equals("product")) {
 
-		if (monChoix.equals("product")) {
+				Product produit = new Product();
 
-			Product produit = new Product();
+				produit.setName(nom, false);
+				produit.setPrice(prix, false);
+				produit.setDescription(description, false);
+				produit.setIdProvider(utilisateur.getId());
+				produit.setCode(code);
 
-			produit.setName(nom, false);
-			produit.setPrice(prix, false);
-			produit.setDescription(description, false);
-			produit.setIdProvider(utilisateur.getId());
+				System.out.println(produit.toString());
 
-			System.out.println(produit.toString());
+				Boolean success = productDao.addProduct(produit);
+				if (success == true) {
+					request.setAttribute("success", "Votre offre à bien été enregistrée!");
+					response.sendRedirect(request.getContextPath() + "/proposer");
 
-			DaoProductImpl productDao = new DaoProductImpl(
-					new UsineDao("jdbc:oracle:thin:@localhost:1521:orcl", "papfood", "yummyshop"));
+				} else {
+					request.setAttribute("success", "Votre offre n'a pas été enregistrée!");
+					response.sendRedirect(request.getContextPath() + "/proposer");
+
+				}
 
-			Boolean success = productDao.addProduct(produit);
-			if (success = true) {
-				request.setAttribute("success", "Votre offre à bien été enregistrée!");
-			}else{
-				request.setAttribute("success", "Votre offre n'a pas été enregistrée!");
 			}
 
-		}
+			else {
+				Service service = new Service();
+
+				service.setName(nom, false);
+				service.setPrice(prix, false);
+				service.setDescription(description, false);
+				service.setIdProvider(utilisateur.getId());
+				service.setCode(code);
+				System.out.println(service.toString());
 
-		else {
-			Service service = new Service();
+				Boolean success = serviceDao.addService(service);
+				if (success == true) {
+					request.setAttribute("success", "Votre offre à bien été enregistrée!");
+					this.getServletContext().getRequestDispatcher(request.getContextPath() + "/proposer")
+							.forward(request, response);
 
-			service.setName(nom, false);
-			service.setPrice(prix, false);
-			service.setDescription(description, false);
+				} else {
+					request.setAttribute("success", "Votre offre n'a pas été enregistrée!");
+					this.getServletContext().getRequestDispatcher(request.getContextPath() + "/proposer")
+							.forward(request, response);
 
-			System.out.println(service.toString());
+				}
+			}
+
+		}
+		if (action.equals("afficherSousVendables")) {
+			String forwardTo = "";
+			String message = "";
+			int begin = 0;
+			int end = 10;
+			String pagination = "";
+			Integer total = listProdSer.size();
+			if (total <= 0 || total == null) {
+				message = "Aucun sous-éléments à afficher!!";
+			} else {
+				message = "Liste des éléments trouvés";
 
-			DaoServiceImpl serviceDao = new DaoServiceImpl(
-					new UsineDao("jdbc:oracle:thin:@localhost:1521:orcl", "papfood", "yummyshop"));
-			Boolean success = serviceDao.addService(service);			
-			if (success = true) {
-				request.setAttribute("success", "Votre offre à bien été enregistrée!");
-			}else{
-				request.setAttribute("success", "Votre offre n'a pas été enregistrée!");
 			}
+			System.out.println("Nombre d'utilisateurs dans la base : " + total);
+			begin = Integer.parseInt(request.getParameter("begin"));
+			end = Integer.parseInt(request.getParameter("end"));
+			pagination = paginateur.pagine(total, listProdSer, request);
+			System.out.println("Pagination effectuée!");
+			request.setAttribute("pagination", pagination);
+			System.out.println("Pagination settée!");
+			request.setAttribute("total", total);
+			// forwardTo = request.getContextPath() +
+			// "/proposer?action=afficherSousVendables&begin=" + begin + "&end="
+			// + end + "";
+			// RequestDispatcher dp = request.getRequestDispatcher(forwardTo +
+			// "&message=" + message);
+
+			// dp.forward(request, response);
+
 		}
+		if (action.equals("addSalable")) {
+			Integer indice = Integer.parseInt(request.getParameter("indice"));
+			listProdSerFinal.add(listProdSer.get(indice));
+			request.setAttribute("success", "Elément ajouté!");
+
+		}
+		this.getServletContext().getRequestDispatcher("/WEB-INF/proposer.jsp").forward(request, response);
 
 	}
 
